attr global userattr DbLogExclude DbLogInclude alexaName alexaRoom cmdIcon devStateIcon devStateStyle genericDeviceType:security,ignore,switch,outlet,light,blind,thermometer,thermostat,contact,garage,window,lock homebridgeMapping:textField-long icon sortby webCmd webCmdLabel:textField-long widgetOverride
attr global autoload_undefined_devices 1
attr global latitude 1
attr global logfile ./log/fhem-%Y-%m.log
attr global longitude 1
attr global modpath .
attr global motd none
attr global statefile ./log/fhem.save
attr global updateInBackground 1
attr global verbose 1

define telnetPort telnet 7072 global

define WEB FHEMWEB 8083 global
attr WEB HTTPS 1
attr WEB JavaScripts codemirror/fhem_codemirror.js hausautomatisierung-com/custom.js
attr WEB csrfToken none
attr WEB editConfig 1
attr WEB hiddenroom FBDECT,Plots,Unsorted
attr WEB longpoll 1
attr WEB menuEntries Alexa,https://alexa.amazon.de/spa/index.html?#cards
attr WEB roomIcons Save config:message_attention Abfall:dustbin Alle Lampen:li_wht_off Anwesenheit:people_sensor Arbeitszimmer:scene_office Kalender:time_calendar Kinderzimmer:scene_childs_room MPD:it_radio Schlafzimmer:scene_making_love Sonos:icoSONOSPLAYER_icon-S3.png Spritpreise:gasoline alexa:alexa Wohnzimmer:scene_livingroom Wetter:weather_winter Wecker:time_timer Telefon:it_telephone Taster:li_wht_dimmer IT:lan_rs485 Alle Lampen:li_wht_off System:rc_templatebutton Vorwerk:Botvac_VR200 Fernsehen:scene_scene Abfahrt:scene_visit_guests netatmo:temp_outside AMAD:kindle Sprache:audio_mic Logfile:edit_paste Commandref:system_fhem Remote doc:message_mail Edit files:edit_copy Select style:edit_open Event monitor:edit_settings Spotify:audio_headphone Beleuchtung:light_light_dim_100
attr WEB sslVersion SSLv23:!SSLv3:!SSLv2
attr WEB stylesheetPrefix hausautomatisierung_com
attr WEB title { if($FW_room) { "FHEM: $FW_room" } elsif($FW_detail) { "FHEM: $FW_detail" } else { "Home, Sweet Home" } }

define WEBphone FHEMWEB 8084 global
attr WEBphone stylesheetPrefix smallscreen

define WEBtablet FHEMWEB 8085 global
attr WEBtablet stylesheetPrefix touchpad

# Fake FileLog entry, to access the fhem log from FHEMWEB 
define Logfile FileLog ./log/fhem-%Y-%m.log fakelog

define autocreate autocreate
attr autocreate filelog ./log/%NAME-%Y.log

define eventTypes eventTypes ./log/eventTypes.txt

# Disable this to avoid looking for new USB devices on startup
define initialUsbCheck notify global:INITIALIZED usb create
define allowed_WEB allowed
attr allowed_WEB basicAuth ZGVubmlzOmZoZW0=
attr allowed_WEB basicAuthExpiry 35
attr allowed_WEB validFor WEB
define allowed_telnetPort allowed
attr allowed_telnetPort globalpassword FHEM
attr allowed_telnetPort validFor telnetPort
define System weblink cmdList system_fhem_reboot:Neustart:shutdown+restart RPi:Shutdown:shutdown system_fhem_update:UpdateCheck:update+check system_fhem_update:Update:update
attr System userattr presence presence_map structexclude
attr System devStateIcon .*:system_backup
attr System group Systembefehle
attr System icon ge_blk_handy
attr System room System

define Kette IT 00001001010111100000000000 0 0001
attr Kette userattr Room Room_map lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Kette IODev nanoCUL
attr Kette Room Morgens
attr Kette alexaName Kette
attr Kette alexaRoom Kinderzimmer
attr Kette genericDeviceType switch
attr Kette group Kinderzimmer
attr Kette icon light_fairy_lights
attr Kette room Kinderzimmer,alexa
define FileLog_Kette FileLog ./log/Kette-%Y.log Kette
attr FileLog_Kette logtype text
attr FileLog_Kette room IT
define Regal IT 0FFF0F0FFF 0F F0
attr Regal userattr Room Room_map lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Regal IODev nanoCUL
attr Regal Room Morgens
attr Regal alexaName Regal
attr Regal alexaRoom Kinderzimmer
attr Regal genericDeviceType switch
attr Regal group Kinderzimmer
attr Regal icon light_cabinet
attr Regal room Kinderzimmer,alexa
define FileLog_Regal FileLog ./log/Regal-%Y.log Regal
attr FileLog_Regal logtype text
attr FileLog_Regal room IT
define dbox1 IT 0FFF0FF0FF 0F F0
attr dbox1 userattr lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0
attr dbox1 IODev nanoCUL
attr dbox1 alexaName dbox1
attr dbox1 alexaRoom Fernsehen
attr dbox1 group Kinderzimmer
attr dbox1 icon it_router
attr dbox1 room Kinderzimmer
define FileLog_dbox1 FileLog ./log/dbox1-%Y.log dbox1
attr FileLog_dbox1 logtype text
attr FileLog_dbox1 room IT
define Lampe IT 000000FFFF 0F F0
attr Lampe userattr Room Room_map lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Lampe IODev nanoCUL
attr Lampe Room Morgens
attr Lampe alexaName Stehlampe
attr Lampe alias Stehlampe
attr Lampe genericDeviceType switch
attr Lampe group Arbeitszimmer
attr Lampe icon light_pendant_light
attr Lampe room Arbeitszimmer,alexa
define FileLog_Lampe FileLog ./log/Lampe-%Y.log Lampe
attr FileLog_Lampe logtype text
attr FileLog_Lampe room IT
define Bauch IT 0F0000FFFF 0F F0
attr Bauch userattr Room Room_map lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Bauch IODev nanoCUL
attr Bauch Room Morgens
attr Bauch alexaName Bauch
attr Bauch alexaRoom Schlafzimmer
attr Bauch genericDeviceType switch
attr Bauch group Schlafzimmer
attr Bauch icon scene_making_love
attr Bauch room Schlafzimmer,alexa
define FileLog_Bauch FileLog ./log/Bauch-%Y.log Bauch
attr FileLog_Bauch logtype text
attr FileLog_Bauch room IT
define Fernsehschrank IT 00001001010111110000000000 0 0001
attr Fernsehschrank userattr lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Fernsehschrank IODev nanoCUL
attr Fernsehschrank alexaName Fernsehschrank
attr Fernsehschrank alexaRoom Schlafzimmer
attr Fernsehschrank genericDeviceType switch
attr Fernsehschrank group Schlafzimmer
attr Fernsehschrank icon it_television
attr Fernsehschrank room Schlafzimmer,alexa
define FileLog_Fernsehschrank FileLog ./log/Fernsehschrank-%Y.log Fernsehschrank
attr FileLog_Fernsehschrank logtype text
attr FileLog_Fernsehschrank room IT
define Fluter IT 0FF000FFFF 0F F0
attr Fluter userattr Room Room_map lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Fluter IODev nanoCUL
attr Fluter Room Morgens
attr Fluter alexaName Fluter
attr Fluter alexaRoom Wohnzimmer
attr Fluter genericDeviceType switch
attr Fluter group Wohnzimmer_Licht
attr Fluter icon light_floor_lamp
attr Fluter room alexa,Wohnzimmer
define FileLog_Fluter FileLog ./log/Fluter-%Y.log Fluter
attr FileLog_Fluter logtype text
attr FileLog_Fluter room IT
define Baum IT 0FF00F0FFF 0F F0
attr Baum userattr Room Room_map lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Baum IODev nanoCUL
attr Baum Room Morgens
attr Baum alexaName Baum
attr Baum alexaRoom Wohnzimmer
attr Baum genericDeviceType switch
attr Baum group Wohnzimmer_Licht
attr Baum icon icoBaum
attr Baum room Wohnzimmer,alexa
define FileLog_Baum FileLog ./log/Baum-%Y.log Baum
attr FileLog_Baum logtype text
attr FileLog_Baum room IT
define Kueche IT 0FF00FF0FF 0F F0
attr Kueche userattr Room Room_map lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Kueche IODev nanoCUL
attr Kueche Room Morgens
attr Kueche alexaName Arbeitsplatte
attr Kueche alexaRoom Wohnzimmer
attr Kueche alias Arbeitsplatte
attr Kueche genericDeviceType switch
attr Kueche group Wohnzimmer_Licht
attr Kueche icon scene_dinner
attr Kueche room Wohnzimmer,alexa
define FileLog_Kueche FileLog ./log/Kueche-%Y.log Kueche
attr FileLog_Kueche logtype text
attr FileLog_Kueche room IT
define Flur IT 0FF00FFF0F 0F F0
attr Flur userattr lightSceneParamsToSave lightSceneRestoreOnlyIfChanged:1,0 room_map structexclude
attr Flur IODev nanoCUL
attr Flur alexaName Flur
attr Flur alexaRoom Wohnzimmer
attr Flur genericDeviceType switch
attr Flur group Wohnzimmer_Licht
attr Flur icon it_telephone
attr Flur room Wohnzimmer,alexa
define FileLog_Flur FileLog ./log/Flur-%Y.log Flur
attr FileLog_Flur logtype text
attr FileLog_Flur room IT

define Wetter Weather 639679 600 de
attr Wetter room Wetter
attr Wetter stateFormat temp_c °C
define Sonos SONOS localhost:4711 30
attr Sonos getFavouritesListAtNewVersion 1
attr Sonos getPlaylistsListAtNewVersion 1
attr Sonos getRadiosListAtNewVersion 1
attr Sonos room Sonos
attr Sonos userReadings RadioList, Favorites, Playlists
define Sonos_Wohnzimmer SONOSPLAYER RINCON_000E58B54ED101400_MR
attr Sonos_Wohnzimmer alias Wohnzimmer - Mitte
attr Sonos_Wohnzimmer generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer generateVolumeSlider 1
attr Sonos_Wohnzimmer getAlarms 1
attr Sonos_Wohnzimmer getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer group Sonos
attr Sonos_Wohnzimmer icon icoSONOSPLAYER_icon-S9.png
attr Sonos_Wohnzimmer minVolume 0
attr Sonos_Wohnzimmer model Sonos_S9
attr Sonos_Wohnzimmer room Sonos
attr Sonos_Wohnzimmer simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer sortby 1
attr Sonos_Wohnzimmer stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer webCmd Volume
define Sonos_WohnzimmerRG_Favourites readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
define Sonos_WohnzimmerRG_Radios readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
define Sonos_WohnzimmerRG_Playlists readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
define Sonos_WohnzimmerRG_Queue readingsGroup Sonos_Wohnzimmer:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
define Sonos_Wohnzimmer_SW SONOSPLAYER RINCON_000E5899DCC001400_MR
attr Sonos_Wohnzimmer_SW alias Wohnzimmer - Subwoofer
attr Sonos_Wohnzimmer_SW generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_SW generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_SW generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_SW generateVolumeSlider 1
attr Sonos_Wohnzimmer_SW getAlarms 1
attr Sonos_Wohnzimmer_SW getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_SW group Wohnzimmer
attr Sonos_Wohnzimmer_SW icon icoSONOSPLAYER_icon-Sub.png
attr Sonos_Wohnzimmer_SW minVolume 0
attr Sonos_Wohnzimmer_SW model Sonos_Sub
attr Sonos_Wohnzimmer_SW room Sonos
attr Sonos_Wohnzimmer_SW simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer_SW sortby 1
attr Sonos_Wohnzimmer_SW stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_SW userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_SW webCmd Volume
define Sonos_Kinderzimmer SONOSPLAYER RINCON_000E58FADB5401400_MR
attr Sonos_Kinderzimmer alias Kinderzimmer
attr Sonos_Kinderzimmer generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Kinderzimmer generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Kinderzimmer generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Kinderzimmer generateVolumeSlider 1
attr Sonos_Kinderzimmer getAlarms 1
attr Sonos_Kinderzimmer getTitleInfoFromMaster 1
attr Sonos_Kinderzimmer group Sonos
attr Sonos_Kinderzimmer icon icoSONOSPLAYER_icon-S3.png
attr Sonos_Kinderzimmer minVolume 0
attr Sonos_Kinderzimmer model Sonos_S3
attr Sonos_Kinderzimmer room Sonos
attr Sonos_Kinderzimmer simulateCurrentTrackPosition 1
attr Sonos_Kinderzimmer sortby 1
attr Sonos_Kinderzimmer stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Kinderzimmer userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Kinderzimmer webCmd Volume
define Sonos_KinderzimmerRG_Favourites readingsGroup Sonos_Kinderzimmer:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
define Sonos_KinderzimmerRG_Radios readingsGroup Sonos_Kinderzimmer:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
define Sonos_KinderzimmerRG_Playlists readingsGroup Sonos_Kinderzimmer:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
define Sonos_KinderzimmerRG_Queue readingsGroup Sonos_Kinderzimmer:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
define Sonos_Wohnzimmer_RR SONOSPLAYER RINCON_B8E937BB4F0A01400_MR
attr Sonos_Wohnzimmer_RR alias Wohnzimmer - Hinten Rechts
attr Sonos_Wohnzimmer_RR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_RR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_RR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_RR generateVolumeSlider 1
attr Sonos_Wohnzimmer_RR getAlarms 1
attr Sonos_Wohnzimmer_RR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_RR group Wohnzimmer
attr Sonos_Wohnzimmer_RR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_RR minVolume 0
attr Sonos_Wohnzimmer_RR model Sonos_S1
attr Sonos_Wohnzimmer_RR room Sonos
attr Sonos_Wohnzimmer_RR simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer_RR sortby 1
attr Sonos_Wohnzimmer_RR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_RR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_RR webCmd Volume
define Sonos_Kueche SONOSPLAYER RINCON_000E58FADAE001400_MR
attr Sonos_Kueche alias Küche
attr Sonos_Kueche generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Kueche generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Kueche generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Kueche generateVolumeSlider 1
attr Sonos_Kueche getAlarms 1
attr Sonos_Kueche getTitleInfoFromMaster 1
attr Sonos_Kueche group Sonos
attr Sonos_Kueche icon icoSONOSPLAYER_icon-S3.png
attr Sonos_Kueche minVolume 0
attr Sonos_Kueche model Sonos_S3
attr Sonos_Kueche room Sonos
attr Sonos_Kueche simulateCurrentTrackPosition 1
attr Sonos_Kueche sortby 1
attr Sonos_Kueche stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Kueche userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Kueche webCmd Volume
define Sonos_KuecheRG_Favourites readingsGroup Sonos_Kueche:<{SONOS_getListRG($DEVICE,"Favourites",1)}@Favourites>
define Sonos_KuecheRG_Radios readingsGroup Sonos_Kueche:<{SONOS_getListRG($DEVICE,"Radios",1)}@Radios>
define Sonos_KuecheRG_Playlists readingsGroup Sonos_Kueche:<{SONOS_getListRG($DEVICE,"Playlists")}@Playlists>
define Sonos_KuecheRG_Queue readingsGroup Sonos_Kueche:<{SONOS_getListRG($DEVICE,"Queue")}@Queue>
define Sonos_Wohnzimmer_LR SONOSPLAYER RINCON_B8E937BB4D8401400_MR
attr Sonos_Wohnzimmer_LR alias Wohnzimmer - Hinten Links
attr Sonos_Wohnzimmer_LR generateInfoSummarize1 <NormalAudio><Artist prefix="(" suffix=")"/><Title prefix=" '" suffix="'" ifempty="[Keine Musikdatei]"/><Album prefix=" vom Album '" suffix="'"/></NormalAudio> <StreamAudio><Sender suffix=":"/><SenderCurrent prefix=" '" suffix="' -"/><SenderInfo prefix=" "/></StreamAudio>
attr Sonos_Wohnzimmer_LR generateInfoSummarize2 <TransportState/><InfoSummarize1 prefix=" => "/>
attr Sonos_Wohnzimmer_LR generateInfoSummarize3 <Volume prefix="Lautstärke: "/><Mute instead=" ~ Kein Ton" ifempty=" ~ Ton An" emptyval="0"/> ~ Balance: <Balance ifempty="Mitte" emptyval="0"/><HeadphoneConnected instead=" ~ Kopfhörer aktiv" ifempty=" ~ Kein Kopfhörer" emptyval="0"/>
attr Sonos_Wohnzimmer_LR generateVolumeSlider 1
attr Sonos_Wohnzimmer_LR getAlarms 1
attr Sonos_Wohnzimmer_LR getTitleInfoFromMaster 1
attr Sonos_Wohnzimmer_LR group Wohnzimmer
attr Sonos_Wohnzimmer_LR icon icoSONOSPLAYER_icon-S1.png
attr Sonos_Wohnzimmer_LR minVolume 0
attr Sonos_Wohnzimmer_LR model Sonos_S1
attr Sonos_Wohnzimmer_LR room Sonos
attr Sonos_Wohnzimmer_LR simulateCurrentTrackPosition 1
attr Sonos_Wohnzimmer_LR sortby 1
attr Sonos_Wohnzimmer_LR stateFormat presence ~ currentTrackPositionSimulatedPercent% (currentTrackPositionSimulated / currentTrackDuration)
attr Sonos_Wohnzimmer_LR userReadings Favourites:LastActionResult.*?GetFavouritesWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Radios:LastActionResult.*?GetRadiosWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Playlists:LastActionResult.*?GetPlaylistsWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, Queue:LastActionResult.*?GetQueueWithCovers.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }, currentTrackPosition:LastActionResult.*?GetCurrentTrackPosition.* { if (ReadingsVal($name, "LastActionResult", "") =~ m/.*?: (.*)/) { return $1;; } }
attr Sonos_Wohnzimmer_LR webCmd Volume
define TABLETUI HTTPSRV ftui/ ./www/tablet Tablet-UI
attr TABLETUI room System
define Bewohner RESIDENTS
attr Bewohner alias Residents
attr Bewohner devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr Bewohner group Home State
attr Bewohner icon control_building_filled
attr Bewohner room Anwesenheit
attr Bewohner webCmd state
define rr_Annabel ROOMMATE Bewohner
attr rr_Annabel alias Annabel
attr rr_Annabel comment Auto-created by Bewohner
attr rr_Annabel devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr rr_Annabel group Home State
attr rr_Annabel icon people_sensor
attr rr_Annabel room Anwesenheit
attr rr_Annabel rr_presenceDevices Handy_Annabel,Handy_Annabel2
attr rr_Annabel rr_realname group
attr rr_Annabel sortby 1
attr rr_Annabel userReadings Handy_Annabel
attr rr_Annabel webCmd state
define rr_Dennis ROOMMATE Bewohner
attr rr_Dennis alias Dennis
attr rr_Dennis comment Auto-created by Bewohner
attr rr_Dennis devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr rr_Dennis group Home State
attr rr_Dennis icon people_sensor
attr rr_Dennis room Anwesenheit
attr rr_Dennis rr_presenceDevices Handy_Dennis,Handy_Dennis2
attr rr_Dennis rr_realname group
attr rr_Dennis sortby 1
attr rr_Dennis webCmd state
define Handy_Dennis PRESENCE local-bluetooth C8:38:70:27:49:D2 30
attr Handy_Dennis userattr presence presence_map structexclude
attr Handy_Dennis absenceThreshold 1
attr Handy_Dennis devStateIcon absent:user_ext_away .*:user_available
attr Handy_Dennis event-on-change-reading state
attr Handy_Dennis group Anwesenheit
attr Handy_Dennis presence Anwesenheit
attr Handy_Dennis room Anwesenheit
define Calllist FB_CALLLIST fbCallMonitor
attr Calllist alias Anruferliste
attr Calllist create-readings 1
attr Calllist event-on-change-reading .*
attr Calllist event-on-update-reading .*
attr Calllist language de
attr Calllist list-order descending
attr Calllist list-type all
attr Calllist number-of-calls 5
attr Calllist room Telefon
attr Calllist time-format-string %a, %d.%m.%y %H:%M
attr Calllist visible-columns state,timestamp,name,number,duration
define rpi_sys SYSMON 1 1 1 10
attr rpi_sys event-on-update-reading cpu_temp,cpu_temp_avg,cpu_freq,eth0_diff,loadavg,ram,fs_.* attr rpi_sys filesystems fs_boot:/boot,fs_root:/:Root,fs_usb1:/media/usb1:USB-Stick
attr rpi_sys exclude cpucount, loadavg, cpufreq, cpuinfo, diskstat, filesystem, fbwlan, fbnightctrl, fbnewmessages, fbdecttemp, fbversion, fbdsl
attr rpi_sys network-interfaces eth0:eth0:Ethernet,wlan0:wlan0:WiFi
attr rpi_sys nonblocking 1
attr rpi_sys room System
define NOT_off_GuteNacht notify AllesAus:Aus Schlafen gehen:Aus;; set Fluter on;; set Flur on;; set Bauch on;; set Baum off;; set Kueche off;; set Kette off;; set Regal off;; set dbox off;; set Lampe off;; set Fernsehschrank off;; sleep 300;; set Flur off;; set Bauch off;; set Fluter off
attr NOT_off_GuteNacht room Alle Lampen

define Wohnung Dashboard
attr Wohnung userattr dashboard_tab2backgroundimage dashboard_tab2colcount dashboard_tab2devices dashboard_tab2groups dashboard_tab2icon dashboard_tab2name dashboard_tab2rowcentercolwidth dashboard_tab2sorting dashboard_tab3backgroundimage dashboard_tab3colcount dashboard_tab3devices dashboard_tab3groups dashboard_tab3icon dashboard_tab3name dashboard_tab3rowcentercolwidth dashboard_tab3sorting dashboard_tab4backgroundimage dashboard_tab4colcount dashboard_tab4devices dashboard_tab4groups dashboard_tab4icon dashboard_tab4name dashboard_tab4rowcentercolwidth dashboard_tab4sorting dashboard_tab5backgroundimage dashboard_tab5colcount dashboard_tab5devices dashboard_tab5groups dashboard_tab5icon dashboard_tab5name dashboard_tab5rowcentercolwidth dashboard_tab5sorting dashboard_tab6backgroundimage dashboard_tab6colcount dashboard_tab6devices dashboard_tab6groups dashboard_tab6icon dashboard_tab6name dashboard_tab6rowcentercolwidth dashboard_tab6sorting dashboard_tab7backgroundimage dashboard_tab7colcount dashboard_tab7devices dashboard_tab7groups dashboard_tab7icon dashboard_tab7name dashboard_tab7rowcentercolwidth dashboard_tab7sorting
attr Wohnung dashboard_activetab 1
attr Wohnung dashboard_tab1groups Alle Lampen, Nachtlicht, Arbeitszimmer, Kinderzimmer, Schlafzimmer, Wohnzimmer_Licht, Räume, Clock
attr Wohnung dashboard_tab1icon HOME_Status_1@#eeece1
attr Wohnung dashboard_tab1name Licht
attr Wohnung dashboard_tab1sorting t0c0,Räume,true,293,326,1,1:t0c0,Wohnzimmer_Licht,true,231,326,294,1:t0c0,Kinderzimmer,true,247,199,525,1:t0c0,Arbeitszimmer,true,225,0,772,1:t0c0,Nachtlicht,true,225,0,772,76:t0c0,Schlafzimmer,true,249,125,525,201:t0c0,Alle Lampen,true,223,125,774,201:
attr Wohnung dashboard_tab2groups Draussen, Muelltonnen, Sprit, Anwesenheit
attr Wohnung dashboard_tab2name Umwelt
attr Wohnung dashboard_tab2sorting t1c0,Draussen,true,246,0,1,1:t1c0,Anwesenheit,true,166,0,247,1:t1c0,Muelltonnen,true,524,0,413,1:t1c0,Sprit,true,692,0,247,326:
attr Wohnung dashboard_tab3groups Kalender
attr Wohnung dashboard_tab3name Kalender
attr Wohnung dashboard_tab4groups Sonos, Fernsehen, Musikplayer, Spotify, Fritzbox
attr Wohnung dashboard_tab4name Multimedia
attr Wohnung dashboard_tab4sorting t3c0,Sonos,true,787,0,1,1:t3c0,Musikplayer,true,787,0,1,206:t3c0,Fernsehen,true,787,0,1,351:t3c0,Spotify,true,788,75,1,427:t3c0,Fritzbox,true,789,0,1,502:
attr Wohnung dashboard_tab5groups Systembefehle
attr Wohnung dashboard_tab5name System
attr Wohnung dashboard_tab[0-9]+groups Terrasse
attr Wohnung dashboard_width 100%

define Annabel Calendar ical url https://calendar.google.com/calendar/ical/aed200988%40gmail.com/private-42e1f746f57a32ffe49ca69f4f8f746c/basic.ics 86400
attr Annabel room Kalender
define CalAnnabel CALVIEW Annabel 2
attr CalAnnabel maxreadings 8
attr CalAnnabel modes undefined
define READ_Annabel readingsGroup <Datum>,<Beginn>,<Ende>,<Termin>,<Ort>
attr READ_Annabel alias Termine Annabel
attr READ_Annabel group Kalender
attr READ_Annabel nonames 1
attr READ_Annabel room Kalender
define NOT_READ_Annabel notify CalAnnabel:t:.* { my $i;; my $ix = 1;; my $modtext = "<Datum>,<Beginn>,<Ende>,<Termin>,<Ort> ";;  for($i= 1;;$i<= ReadingsVal("CalAnnabel","c-today", 0);;$i++){ $modtext .= "CalAnnabel:<Heute>,today_".sprintf('%03d',$i)."_btime,today_".sprintf('%03d',$i)."_etime,today_".sprintf('%03d',$i)."_summary,today_".sprintf('%03d',$i)."_location ";;$ix++}  for($i= 1;;$i<= ReadingsVal("CalAnnabel","c-tomorrow", 0);;$i++){ $modtext .= "CalAnnabel:<Morgen>,tomorrow_".sprintf('%03d',$i)."_btime,tomorrow_".sprintf('%03d',$i)."_etime,tomorrow_".sprintf('%03d',$i)."_summary,tomorrow_".sprintf('%03d',$i)."_location ";;$ix++}  for($i= $ix;;$i<= ReadingsVal("CalAnnabel","c-term", 0);;$i++){ $modtext .= "CalAnnabel:t_".sprintf('%03d',$i)."_bdate,t_".sprintf('%03d',$i)."_btime,t_".sprintf('%03d',$i)."_etime,t_".sprintf('%03d',$i)."_summary,t_".sprintf('%03d',$i)."_location ";;}  fhem("modify READ_Annabel $modtext");; fhem("SAVE");; }
attr NOT_READ_Annabel room System
define Eltern dummy
attr Eltern devStateIcon Aus:HOME_Status.4
attr Eltern group Nachtlicht
attr Eltern icon scene_baby
attr Eltern room Alle Lampen
attr Eltern webCmd Aus
define NOT_off_Eltern notify Eltern:Aus set Fluter on;; set Baum on;; set Kueche on;; set Flur off;; set Kette off;; set Regal off;; set dbox off;; set Lampe on;; set Bauch on;; set Fernsehschrank on;;
attr NOT_off_Eltern room Alle Lampen
define AllesAus dummy
attr AllesAus devStateIcon Aus:HOME_Status.4
attr AllesAus group Nachtlicht
attr AllesAus icon scene_sleeping
attr AllesAus room Alle Lampen
attr AllesAus webCmd Aus
define TL Twilight 51.290 7.140 1 672500
attr TL event-on-change-reading twilight,twilight_weather,state,light,ss_weather
attr TL room Wetter
define pollen allergy 44866
attr pollen userattr enableControlSet reading01Name reading01Regex reading02Name reading02Regex reading03Name reading03Regex reading04Name reading04Regex reading05Name reading05Regex reading06Name reading06Regex reading07Name reading07Regex reading08Name reading08Regex reading09Name reading09Regex reading10Name reading10Regex reading11Name reading11Regex reading12Name reading12Regex reading13Name reading13Regex reading14Name reading14Regex reading15Name reading15Regex reading16Name reading16Regex reading17Name reading17Regex reading18Name reading18Regex reading19Name reading19Regex reading20Name reading20Regex reading21Name reading21Regex reading22Name reading22Regex reading23Name reading23Regex reading24Name reading24Regex reading25Name reading25Regex reading26Name reading26Regex reading27Name reading27Regex reading28Name reading28Regex reading29Name reading29Regex reading30Name reading30Regex reading31Name reading31Regex reading32Name reading32Regex reading33Name reading33Regex requestHeader1
attr pollen levelsFormat 1,2,3
attr pollen requestHeader1 User-Agent: Mozilla/5.0 (Windows NT 6.0)
attr pollen room Wetter
attr pollen stateFormat fc1_maximum
attr pollen updateEmpty 1
attr pollen updateIgnored 1
define OnMpdPlay notify MPD1:play {OnMpd1PlayPressed()}
attr OnMpdPlay room MPD
define OnMpdPlaylistChanged notify MPD1:playlist:.* {call_mpd1_playlistinfo()}
attr OnMpdPlaylistChanged room MPD
define OnMpdNewTrack notify MPD1:file:.* {call_mpd_getcover()}
attr OnMpdNewTrack room MPD
define ResetVerpassteAnrufe at *23:59:59 { fhem("set Calllist clear") }
attr ResetVerpassteAnrufe disable 1
attr ResetVerpassteAnrufe room Telefon
define OnMpdPlay2 notify MPD2:play {OnMpdPlayPressed()}
attr OnMpdPlay2 room MPD
define OnMpdPlaylistChanged2 notify MPD2:playlist:.* {call_mpd2_playlistinfo()}
attr OnMpdPlaylistChanged2 room MPD
define OnMpdNewTrack2 notify MPD2:file:.* {call_mpd2_getcover()}
attr OnMpdNewTrack2 room MPD
define OnMpdPlay3 notify MPD3:play {OnMpdPlayPressed()}
attr OnMpdPlay3 room MPD
define OnMpdPlaylistChanged3 notify MPD3:playlist:.* {call_mpd3_playlistinfo()}
attr OnMpdPlaylistChanged3 room MPD
define OnMpdNewTrack3 notify MPD3:file:.* {call_mpd3_getcover()}
attr OnMpdNewTrack3 room MPD

define MPD3 MPD 192.168.2.40 6600
attr MPD3 alias Badezimmer
attr MPD3 devStateIcon play:rc_PLAY:stop stop:rc_STOP:play pause:rc_PAUSE:pause error:icoBlitz
attr MPD3 event-on-change-reading .*
attr MPD3 event-on-update-reading .*
attr MPD3 group Musikplayer
attr MPD3 icon it_radio
attr MPD3 loadPlaylists 1
attr MPD3 player mpd
attr MPD3 room MPD
attr MPD3 titleSplit 1
attr MPD3 unknown_artist_image /fhem/icons/1px-spacer
attr MPD3 webCmd previous:stop:play:pause:next
define MPD2 MPD 192.168.2.32 6600
attr MPD2 alias Schlafzimmer
attr MPD2 devStateIcon play:rc_PLAY:stop stop:rc_STOP:play pause:rc_PAUSE:pause error:icoBlitz
attr MPD2 event-on-change-reading .*
attr MPD2 event-on-update-reading .*
attr MPD2 group Musikplayer
attr MPD2 icon it_radio
attr MPD2 loadPlaylists 1
attr MPD2 player mpd
attr MPD2 room MPD
attr MPD2 titleSplit 1
attr MPD2 unknown_artist_image /fhem/icons/1px-spacer
attr MPD2 webCmd previous:stop:play:pause:next

define Wohnzimmer structure room Baum Fluter Kueche Flur
attr Wohnzimmer userattr room_map structexclude
attr Wohnzimmer clientstate_behavior relative
attr Wohnzimmer clientstate_priority on off
attr Wohnzimmer group Räume
attr Wohnzimmer room Alle Lampen
define Kinderzimmer structure room Regal Kette
attr Kinderzimmer userattr room_map structexclude
attr Kinderzimmer clientstate_behavior relative
attr Kinderzimmer clientstate_priority on off
attr Kinderzimmer group Räume
attr Kinderzimmer room Alle Lampen
define Schlafzimmer structure room Bauch Fernsehschrank
attr Schlafzimmer userattr room_map structexclude
attr Schlafzimmer clientstate_behavior relative
attr Schlafzimmer clientstate_priority on off
attr Schlafzimmer group Räume
attr Schlafzimmer room Alle Lampen
define alexa alexa
attr alexa alexaMapping #Characteristic=<name>=<value>,...\
On=verb=schalte,valueOn=an;;ein,valueOff=aus,valueToggle=um\
\
Brightness=verb=stelle,property=helligkeit,valuePrefix=auf,values=AMAZON.NUMBER,valueSuffix=prozent\
\
Hue=verb=stelle,valuePrefix=auf,values=rot:0;;grün:128;;blau:200\
Hue=verb=färbe,values=rot:0;;grün:120;;blau:220\
\
Saturation=verb=stelle,property=sättigung,valuePrefix=auf,values=AMAZON.NUMBER\
Saturation=verb=sättige,values=AMAZON.NUMBER\
\
TargetPosition=verb=mach,articles=den;;die,values=auf:100;;zu:0\
TargetPosition=verb=stelle,valuePrefix=auf,values=AMAZON.NUMBER,valueSuffix=prozent\
\
TargetTemperature=verb=stelle,valuePrefix=auf,values=AMAZON.NUMBER,valueSuffix=grad\
\
Volume:verb=stelle,valuePrefix=auf,values=AMAZON.NUMBER,valueSuffix=prozent\
\
Weckzeit=verb=stelle,valuePrefix=auf;;für,values=AMAZON.TIME,valueSuffix=uhr
attr alexa alexaTypes #Type=<alias>[,<alias2>[,...]]\
light=licht,lampen\
blind=rolladen,rolläden,jalousie,jalousien,rollo,rollos
attr alexa echoRooms #<deviceId>=<room>\

attr alexa fhemIntents #IntentName=<sample utterance>\
gutenMorgen=guten morgen\
guteNacht=gute nacht
attr alexa room alexa

define Abfall Calendar ical url https://calendar.google.com/calendar/ical/0fm5lc0uumq0tsnsk8j9d1rnuo%40group.calendar.google.com/private-ff3ae9357c516b276fbc7c6c7dc36f1d/basic.ics 3600
attr Abfall room Abfall
attr Abfall userReadings ftui_datum {ReadingsVal("myABFALL","now_text","") eq "" ? datumHeuteMorgen(ReadingsVal("myABFALL","next_datum","")) : "heute"
define Abfallkalender ABFALL Abfall 3600
attr Abfallkalender calendarname_praefix 0
attr Abfallkalender date_style date
attr Abfallkalender delimiter_reading |
attr Abfallkalender delimiter_text_reading und
attr Abfallkalender room Abfall
attr Abfallkalender stateFormat next_text in next_days Tag(en)
attr Abfallkalender userReadings ftui_datum {ReadingsVal("myABFALL","now_text","") eq "" ? datumHeuteMorgen(ReadingsVal("myABFALL","next_datum","")) : "heute";;},ftui_next {ReadingsVal("myABFALL","now_text","") eq "" ? ReadingsVal("myABFALL","next","") : ReadingsVal("myABFALL","now","")."_0";;;;}
attr Abfallkalender weekday_mapping Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag
define READ_Abfall readingsGroup Abfallkalender:<%dustbin>,<Art>,next_text Abfallkalender:<%time_calendar>,<Abholung>,next_days
attr READ_Abfall alias Abfallabholung
attr READ_Abfall group Muelltonnen
attr READ_Abfall room Abfall
attr READ_Abfall valueFormat { next_days => '%i Tage' }
attr READ_Abfall valueStyle style="text-align:right"
define notify_savestate notify global:.* { if(@structChangeHist) {CommandSetReading(undef,'notify_savestate savestate 1');; CommandSetReading(undef,'notify_savestate color #b22222');; CommandSetReading(undef,'notify_savestate text Config nicht<br/>gespeichert!')} else {CommandSetReading(undef,'notify_savestate savestate 0');; CommandSetReading(undef,'notify_savestate color #eee');; CommandSetReading(undef,'notify_savestate text Config<br/>gespeichert!')} }
attr notify_savestate room System
define androidTablet webViewControl 12345
attr androidTablet room System
define R2D2 BOTVAC d.oderwald@web.de Pegasus1! vorwerk 120
attr R2D2 alexaName Kobold
attr R2D2 alexaRoom Sauger
attr R2D2 devStateIcon Unknown:WLAN_Status.0 Idle:Botvac_VR200@green House.Cleaning:scene_cleaning@red Paused.House.Cleaning:rc_PAUSE Picked.Up!:control_arrow_upward Docking:rc_HOME
attr R2D2 icon Botvac_VR200
attr R2D2 room Vorwerk,alexa
attr R2D2 webCmd startCleaning Eco:stop:sendToBase
define WEBhabridge FHEMWEB 8088 global
attr WEBhabridge JavaScripts codemirror/fhem_codemirror.js hausautomatisierung-com/custom.js
attr WEBhabridge csrfToken none
attr WEBhabridge hiddenroom FBDECT,Plots,Unsorted
attr WEBhabridge longpoll 1
attr WEBhabridge menuEntries HA-Bridge,http://192.168.2.20:81,Alexa,https://alexa.amazon.de/spa/index.html?#cards
attr WEBhabridge roomIcons Save config:message_attention Abfall:dustbin Anwesenheit:people_sensor Arbeitszimmer:scene_office Kalender:time_calendar Kinderzimmer:scene_childs_room MPD:it_radio Schlafzimmer:scene_making_love Sonos:icoSONOSPLAYER_icon-S3.png Spritpreise:gasoline alexa:alexa Wohnzimmer:scene_livingroom Wetter:weather_winter Wecker:time_timer Telefon:it_telephone Taster:li_wht_dimmer IT:lan_rs485 Alle Lampen:li_wht_off System:system_fhem Vorwerk:Botvac_VR200 Fernsehen:scene_scene Abfahrt:scene_visit_guests
attr WEBhabridge stylesheetPrefix hausautomatisierung_com
define Unwetterzentrale UWZ DE 44866 3600
attr Unwetterzentrale event-on-change-reading Warn_0_LongText
attr Unwetterzentrale humanreadable 1
attr Unwetterzentrale room Wetter
attr Unwetterzentrale userReadings Warn_0_Start_de { \
my $t = ReadingsVal("Unwetterzentrale","Warn_0_Start","?");; \
my @Wochentage = qw(Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag);; \
my @Monatsnamen = qw(Januar Februar März April Mai Juni Juli August September Oktober November Dezember);; \
my ($Sekunden, $Minuten, $Stunden, $Monatstag, $Monat,$Jahr, $Wochentag, $Jahrestag, $Sommerzeit) = localtime($t);; \
my $datum = sprintf("%s %02d. %s",$Wochentage[$Wochentag],$Monatstag,$Monatsnamen[$Monat]);; \
my $zeit = sprintf("%02d:%02d Uhr",$Stunden,$Minuten);; \
return $datum." ".$zeit;; \
}, \
Warn_0_End_de { \
my $t = ReadingsVal("Unwetterzentrale","Warn_0_End","?");; \
my @Wochentage = qw(Sonntag Montag Dienstag Mittwoch Donnerstag Freitag Samstag);; \
my @Monatsnamen = qw(Januar Februar März April Mai Juni Juli August September Oktober November Dezember);; \
my ($Sekunden, $Minuten, $Stunden, $Monatstag, $Monat,$Jahr, $Wochentag, $Jahrestag, $Sommerzeit) = localtime($t);; \
my $datum = sprintf("%s %02d. %s",$Wochentage[$Wochentag],$Monatstag,$Monatsnamen[$Monat]);; \
my $zeit = sprintf("%02d:%02d Uhr",$Stunden,$Minuten);; \
return $datum." ".$zeit;; \
}
attr Unwetterzentrale verbose 2
define Push Pushover a4tt76kv6trdtgpi5ag5sehgnzdctz uudf1cw9eiik8gmjf5m5g3sh41arak
attr Push room System

define notSonosPlaylistAbspielen notify duSonosPlaylists {SonosPlaylistStarten($EVENT)}
attr notSonosPlaylistAbspielen room Sonos

define notifyPushAnruf notify fbCallMonitor:event:.ring {my $name=(ReadingsVal("fbCallMonitor","external_name",0));;my $nummer=(ReadingsVal("fbCallMonitor","external_number",0));;my $ziel=(ReadingsVal("fbCallMonitor","internal_number",0));;fhem ("set Push msg 'Anruf von' '$name ($nummer)'")}
attr notifyPushAnruf room Telefon
define dAbfallmorgen DOIF ([18:00] and [Abfallkalender:next_days] == 1) (set Push msg Morgen wird [Abfallkalender:next_text] abgeholt)
attr dAbfallmorgen checkReadingEvent 1
attr dAbfallmorgen do always
define dAbfallheute DOIF ([06:10] and [Abfallkalender:now_text] ne "") ( set Push msg Heute wird [Abfallkalender:now_text] abgeholt)
define Wecker_einzeln DOIF ##1 - Schaltzeiten werden geschaltet, wenn Wecker_Disable == on\
([?$SELF:W_Aktiv, "off"] eq "on"\
and ([[$SELF:W_Montag]|1]\
or [[$SELF:W_Dienstag]|2]\
or [[$SELF:W_Mittwoch]|3]\
or [[$SELF:W_Donnerstag]|4]\
or [[$SELF:W_Freitag]|5]\
or [[$SELF:W_Samstag]|6]\
or [[$SELF:W_Sonntag]|0]))\
(set Baum on;; set Kueche on;; set Fernsehschrank on;; sleep 600;; set Fernsehschrank off;; sleep 3000;; set Alles off)\
##2 - Resetfunktion setzt Uhrzeiten auf Defaultwerte\
DOELSEIF (["$SELF:W_Reset: on"])\
( set $SELF W_Montag 06:10;;\
set $SELF W_Dienstag 06:10;;\
set $SELF W_Mittwoch 06:10;;\
set $SELF W_Donnerstag 06:10;;\
set $SELF W_Freitag 06:10;;\
set $SELF W_Samstag 10:30;;\
set $SELF W_Sonntag 10:30)
attr Wecker_einzeln do always
attr Wecker_einzeln notexist "09:00"
attr Wecker_einzeln readingList W_Aktiv W_Reset W_Montag W_Dienstag W_Mittwoch W_Donnerstag W_Freitag W_Samstag W_Sonntag
attr Wecker_einzeln room Wecker
attr Wecker_einzeln selftrigger all
attr Wecker_einzeln setList W_Aktiv:on,off W_Reset:on W_Montag:time W_Dienstag:time W_Mittwoch:time W_Donnerstag:time W_Freitag:time W_Samstag:time W_Sonntag:time
define Wecker_alle DOIF ##1 - Schaltzeiten werden geschaltet, wenn Wecker_Disable == on\
([?$SELF:W_Aktiv, "off"] eq "on"\
and ([[$SELF:W_Montag]|1]\
or [[$SELF:W_Dienstag]|2]\
or [[$SELF:W_Mittwoch]|3]\
or [[$SELF:W_Donnerstag]|4]\
or [[$SELF:W_Freitag]|5]\
or [[$SELF:W_Samstag]|6]\
or [[$SELF:W_Sonntag]|0]))\
(set MPD2 play;; set Morgens on;; set Sonos_Kueche Volume 6;; set Sonos_Kueche PlayURI http://radiobochum.cast.addradio.de/radiobochum/simulcast/high/stream.mp3;; set Sonos_Kinderzimmer Volume 8;; set Sonos_Kinderzimmer PlayURI http://streamtdy.ir-media-tec.com/disco/mp3-128/web/play.mp3;; sleep 900;; set MPD3 play)\
##2 - Resetfunktion setzt Uhrzeiten auf Defaultwerte\
DOELSEIF (["$SELF:W_Reset: on"])\
( set $SELF W_Montag 07:30;;\
set $SELF W_Dienstag 07:30;;\
set $SELF W_Mittwoch 07:30;;\
set $SELF W_Donnerstag 07:30;;\
set $SELF W_Freitag 07:30;;\
set $SELF W_Samstag 10:31;;\
set $SELF W_Sonntag 10:31)
attr Wecker_alle do always
attr Wecker_alle notexist "09:00"
attr Wecker_alle readingList W_Aktiv W_Reset W_Montag W_Dienstag W_Mittwoch W_Donnerstag W_Freitag W_Samstag W_Sonntag
attr Wecker_alle room Wecker
attr Wecker_alle selftrigger all
attr Wecker_alle setList W_Aktiv:on,off W_Reset:on W_Montag:time W_Dienstag:time W_Mittwoch:time W_Donnerstag:time W_Freitag:time W_Samstag:time W_Sonntag:time
define rpi_sz SYSMON local pi@192.168.2.32 1 1 1 10
attr rpi_sz room System
define rpi_bad SYSMON local pi@192.168.2.8 1 1 1 10
attr rpi_bad room System

define spritpreise HTTPMOD none 1800
attr spritpreise userattr get01Name get01Regex get01URL get02Name get02Regex get02URL get03Name get03Regex get03URL get04Name get04Regex get04URL get05Name get05Regex get05URL get06Name get06Regex get06URL
attr spritpreise event-on-change-reading .*
attr spritpreise event-on-update-reading .*
attr spritpreise get01Name AralSuper
attr spritpreise get01Regex <span>Super E5</span>[^0-9]+([0-9\.]+)
attr spritpreise get01URL http://www.clever-tanken.de/tankstelle_details/10665
attr spritpreise get02Name AralDiesel
attr spritpreise get02Regex <span>Diesel[^0-9]+([0-9\.]+)
attr spritpreise get02URL http://www.clever-tanken.de/tankstelle_details/10665
attr spritpreise get03Name SBSuper
attr spritpreise get03Regex <span>Super E5</span>[^0-9]+([0-9\.]+)
attr spritpreise get03URL http://www.clever-tanken.de/tankstelle_details/11384
attr spritpreise get04Name SBDiesel
attr spritpreise get04Regex <span>Diesel[^0-9]+([0-9\.]+)
attr spritpreise get04URL http://www.clever-tanken.de/tankstelle_details/11384
attr spritpreise get05Name StarSuper
attr spritpreise get05Regex <span>Super E5</span>[^0-9]+([0-9\.]+)
attr spritpreise get05URL http://www.clever-tanken.de/tankstelle_details/10943
attr spritpreise get06Name StarDiesel
attr spritpreise get06Regex <span>Diesel[^0-9]+([0-9\.]+)
attr spritpreise get06URL http://www.clever-tanken.de/tankstelle_details/10943
attr spritpreise group Sprit
attr spritpreise room Spritpreise
attr spritpreise stateFormat Aral-Diesel: AralDiesel <br>\
SB-Diesel: SBDiesel <br>\
Star-Diesel: StarDiesel <br>\
Aral-Super: AralSuper <br>\
SB-Super: SBSuper <br>\
Star-Super: StarSuper
attr spritpreise timeout 10

define pollen0 HTTPMOD http://donnerwetter.de/pollenflug/region.hts?plz=44866&PTag=0 3600
attr pollen0 userattr reading01Name reading01Regex reading02Name reading02Regex reading03Name reading03Regex reading04Name reading04Regex reading05Name reading05Regex reading06Name reading06Regex reading07Name reading07Regex reading08Name reading08Regex reading09Name reading09Regex reading10Name reading10Regex reading11Name reading11Regex reading12Name reading12Regex reading13Name reading13Regex reading14Name reading14Regex reading15Name reading15Regex
attr pollen0 enableControlSet 1
attr pollen0 group Wetter
attr pollen0 reading01Name Beifuss
attr pollen0 reading01Regex (?s)Beifu.*?poll([\d])
attr pollen0 reading02Name Birke
attr pollen0 reading02Regex (?s)Birke.*?poll([\d])
attr pollen0 reading03Name Buche
attr pollen0 reading03Regex (?s)Buche.*?poll([\d])
attr pollen0 reading04Name Erle
attr pollen0 reading04Regex (?s)Erle.*?poll([\d])
attr pollen0 reading05Name Esche
attr pollen0 reading05Regex (?s)Esche.*?poll([\d])
attr pollen0 reading06Name Flieder
attr pollen0 reading06Regex (?s)Flieder.*?poll([\d])
attr pollen0 reading07Name Gerste
attr pollen0 reading07Regex (?s)Gerste.*?poll([\d])
attr pollen0 reading08Name Graeser
attr pollen0 reading08Regex (?s)Gr.ser.*?poll([\d])
attr pollen0 reading09Name Hasel
attr pollen0 reading09Regex (?s)Hasel.*?poll([\d])
attr pollen0 reading10Name Pappel
attr pollen0 reading10Regex (?s)Pappel.*?poll([\d])
attr pollen0 reading11Name Platane
attr pollen0 reading11Regex (?s)Platane.*?poll([\d])
attr pollen0 reading12Name Raps
attr pollen0 reading12Regex (?s)Raps.*?poll([\d])
attr pollen0 reading13Name Roggen
attr pollen0 reading13Regex (?s)Roggen.*?poll([\d])
attr pollen0 reading14Name Weide
attr pollen0 reading14Regex (?s)Weide.*?poll([\d])
attr pollen0 reading15Name Weizen
attr pollen0 reading15Regex (?s)Weizen.*?poll([\d])
attr pollen0 requestHeader.* User-Agent: Mozilla/5.0 (Windows NT 10.0;; WOW64;; rv:46.0) Gecko/20100101 Firefox/46.0
attr pollen0 room Wetter
attr pollen0 userReadings Max {my $gesamt = 0;;\
my $anzahl = 0;;\
if(ReadingsVal('pollen0','Beifuss',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Beifuss',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Birke',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Birke',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Buche',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Buche',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Erle',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Erle',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Esche',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Esche',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Flieder',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Flieder',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Gerste',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Gerste',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Graeser',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Graeser',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Hasel',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Hasel',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Pappel',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Pappel',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Platane',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Platane',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Raps',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Raps',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Roggen',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Roggen',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Weide',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Weide',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen0','Weizen',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen0','Weizen',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if($gesamt > 0 and $anzahl > 0) {\
  my $max = $gesamt / $anzahl;;\
  $max = ceil($max);;\
  return($max);;\
}\
else {\
  return("0");;\
} }

define pollen1 HTTPMOD http://donnerwetter.de/pollenflug/region.hts?plz=44866&PTag=1 0
attr pollen1 userattr reading01Name reading01Regex reading02Name reading02Regex reading03Name reading03Regex reading04Name reading04Regex reading05Name reading05Regex reading06Name reading06Regex reading07Name reading07Regex reading08Name reading08Regex reading09Name reading09Regex reading10Name reading10Regex reading11Name reading11Regex reading12Name reading12Regex reading13Name reading13Regex reading14Name reading14Regex reading15Name reading15Regex
attr pollen1 enableControlSet 1
attr pollen1 group Wetter
attr pollen1 reading01Name Beifuss
attr pollen1 reading01Regex (?s)Beifu.*?poll([\d])
attr pollen1 reading02Name Birke
attr pollen1 reading02Regex (?s)Birke.*?poll([\d])
attr pollen1 reading03Name Buche
attr pollen1 reading03Regex (?s)Buche.*?poll([\d])
attr pollen1 reading04Name Erle
attr pollen1 reading04Regex (?s)Erle.*?poll([\d])
attr pollen1 reading05Name Esche
attr pollen1 reading05Regex (?s)Esche.*?poll([\d])
attr pollen1 reading06Name Flieder
attr pollen1 reading06Regex (?s)Flieder.*?poll([\d])
attr pollen1 reading07Name Gerste
attr pollen1 reading07Regex (?s)Gerste.*?poll([\d])
attr pollen1 reading08Name Graeser
attr pollen1 reading08Regex (?s)Gr.ser.*?poll([\d])
attr pollen1 reading09Name Hasel
attr pollen1 reading09Regex (?s)Hasel.*?poll([\d])
attr pollen1 reading10Name Pappel
attr pollen1 reading10Regex (?s)Pappel.*?poll([\d])
attr pollen1 reading11Name Platane
attr pollen1 reading11Regex (?s)Platane.*?poll([\d])
attr pollen1 reading12Name Raps
attr pollen1 reading12Regex (?s)Raps.*?poll([\d])
attr pollen1 reading13Name Roggen
attr pollen1 reading13Regex (?s)Roggen.*?poll([\d])
attr pollen1 reading14Name Weide
attr pollen1 reading14Regex (?s)Weide.*?poll([\d])
attr pollen1 reading15Name Weizen
attr pollen1 reading15Regex (?s)Weizen.*?poll([\d])
attr pollen1 requestHeader.* User-Agent: Mozilla/5.0 (Windows NT 10.0;; WOW64;; rv:46.0) Gecko/20100101 Firefox/46.0
attr pollen1 room Wetter
attr pollen1 userReadings Max {my $gesamt = 0;;\
my $anzahl = 0;;\
if(ReadingsVal('pollen1','Beifuss',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Beifuss',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Birke',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Birke',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Buche',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Buche',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Erle',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Erle',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Esche',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Esche',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Flieder',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Flieder',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Gerste',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Gerste',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Graeser',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Graeser',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Hasel',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Hasel',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Pappel',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Pappel',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Platane',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Platane',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Raps',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Raps',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Roggen',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Roggen',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Weide',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Weide',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen1','Weizen',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen1','Weizen',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if($gesamt > 0 and $anzahl > 0) {\
  my $max = $gesamt / $anzahl;;\
  $max = ceil($max);;\
  return($max);;\
}\
else {\
  return("0");;\
} }

define pollen2 HTTPMOD http://donnerwetter.de/pollenflug/region.hts?plz=44866&PTag=2 0
attr pollen2 userattr reading01Name reading01Regex reading02Name reading02Regex reading03Name reading03Regex reading04Name reading04Regex reading05Name reading05Regex reading06Name reading06Regex reading07Name reading07Regex reading08Name reading08Regex reading09Name reading09Regex reading10Name reading10Regex reading11Name reading11Regex reading12Name reading12Regex reading13Name reading13Regex reading14Name reading14Regex reading15Name reading15Regex
attr pollen2 enableControlSet 1
attr pollen2 group Wetter
attr pollen2 reading01Name Beifuss
attr pollen2 reading01Regex (?s)Beifu.*?poll([\d])
attr pollen2 reading02Name Birke
attr pollen2 reading02Regex (?s)Birke.*?poll([\d])
attr pollen2 reading03Name Buche
attr pollen2 reading03Regex (?s)Buche.*?poll([\d])
attr pollen2 reading04Name Erle
attr pollen2 reading04Regex (?s)Erle.*?poll([\d])
attr pollen2 reading05Name Esche
attr pollen2 reading05Regex (?s)Esche.*?poll([\d])
attr pollen2 reading06Name Flieder
attr pollen2 reading06Regex (?s)Flieder.*?poll([\d])
attr pollen2 reading07Name Gerste
attr pollen2 reading07Regex (?s)Gerste.*?poll([\d])
attr pollen2 reading08Name Graeser
attr pollen2 reading08Regex (?s)Gr.ser.*?poll([\d])
attr pollen2 reading09Name Hasel
attr pollen2 reading09Regex (?s)Hasel.*?poll([\d])
attr pollen2 reading10Name Pappel
attr pollen2 reading10Regex (?s)Pappel.*?poll([\d])
attr pollen2 reading11Name Platane
attr pollen2 reading11Regex (?s)Platane.*?poll([\d])
attr pollen2 reading12Name Raps
attr pollen2 reading12Regex (?s)Raps.*?poll([\d])
attr pollen2 reading13Name Roggen
attr pollen2 reading13Regex (?s)Roggen.*?poll([\d])
attr pollen2 reading14Name Weide
attr pollen2 reading14Regex (?s)Weide.*?poll([\d])
attr pollen2 reading15Name Weizen
attr pollen2 reading15Regex (?s)Weizen.*?poll([\d])
attr pollen2 requestHeader.* User-Agent: Mozilla/5.0 (Windows NT 10.0;; WOW64;; rv:46.0) Gecko/20100101 Firefox/46.0
attr pollen2 room Wetter
attr pollen2 userReadings Max {my $gesamt = 0;;\
my $anzahl = 0;;\
if(ReadingsVal('pollen2','Beifuss',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Beifuss',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Birke',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Birke',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Buche',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Buche',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Erle',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Erle',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Esche',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Esche',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Flieder',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Flieder',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Gerste',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Gerste',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Graeser',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Graeser',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Hasel',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Hasel',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Pappel',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Pappel',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Platane',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Platane',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Raps',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Raps',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Roggen',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Roggen',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Weide',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Weide',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if(ReadingsVal('pollen2','Weizen',0) > 0) {\
  $gesamt = $gesamt + ReadingsVal('pollen2','Weizen',0);;\
  $anzahl = $anzahl + 1;;\
};;\
if($gesamt > 0 and $anzahl > 0) {\
  my $max = $gesamt / $anzahl;;\
  $max = ceil($max);;\
  return($max);;\
}\
else {\
  return("0");;\
} }
define Wetter_netatmo netatmo ACCOUNT crypt:5d1d0a5d064241565900774004531d0100 crypt:695602581045450614 59d33eacb4809dd19f8b4e5d IXfUVJ5ziBUpzYyYhYL02WdfdDp9TlMIyvLCxkYGj
attr Wetter_netatmo addresslimit 50
attr Wetter_netatmo room netatmo
define R2D2Wl weblink htmlCode { BOTVAC_ShowMap("R2D2") }
attr R2D2Wl room Vorwerk
define Handy_Emily PRESENCE local-bluetooth F8:A9:D0:B4:A7:D2 30
attr Handy_Emily userattr presence presence_map structexclude
attr Handy_Emily absenceThreshold 1
attr Handy_Emily devStateIcon absent:user_ext_away .*:user_available
attr Handy_Emily group Anwesenheit
attr Handy_Emily presence present
attr Handy_Emily room Anwesenheit
define Dennis Calendar ical url https://calendar.google.com/calendar/ical/cooper8166%40googlemail.com/private-dfe802e35f244835578c5465405f93cb/basic.ics 86400
attr Dennis room Kalender
define READ_Dennis readingsGroup <Datum>,<Beginn>,<Ende>,<Termin>,<Ort>
attr READ_Dennis alias Termine Dennis
attr READ_Dennis group Kalender
attr READ_Dennis nonames 1
attr READ_Dennis room Kalender
define CalDennis CALVIEW Dennis 2
attr CalDennis modes next
define NOT_READ_Dennis notify CalDennis:t:.* { my $i;; my $ix = 1;; my $modtext = "<Datum>,<Beginn>,<Ende>,<Termin>,<Ort> ";;  for($i= 1;;$i<= ReadingsVal("CalDennis","c-today", 0);;$i++){ $modtext .= "CalDennis:<Heute>,today_".sprintf('%03d',$i)."_btime,today_".sprintf('%03d',$i)."_etime,today_".sprintf('%03d',$i)."_summary,today_".sprintf('%03d',$i)."_location ";;$ix++}  for($i= 1;;$i<= ReadingsVal("CalDennis","c-tomorrow", 0);;$i++){ $modtext .= "CalDennis:<Morgen>,tomorrow_".sprintf('%03d',$i)."_btime,tomorrow_".sprintf('%03d',$i)."_etime,tomorrow_".sprintf('%03d',$i)."_summary,tomorrow_".sprintf('%03d',$i)."_location ";;$ix++}  for($i= $ix;;$i<= ReadingsVal("CalDennis","c-term", 0);;$i++){ $modtext .= "CalDennis:t_".sprintf('%03d',$i)."_bdate,t_".sprintf('%03d',$i)."_btime,t_".sprintf('%03d',$i)."_etime,t_".sprintf('%03d',$i)."_summary,t_".sprintf('%03d',$i)."_location ";;}  fhem("modify READ_Dennis $modtext");; fhem("SAVE");; }
define GPIO18 RPI_GPIO 18
attr GPIO18 alias Taster1
attr GPIO18 direction input
attr GPIO18 interrupt both
attr GPIO18 room Taster
define GPIO23 RPI_GPIO 23
attr GPIO23 alias Taster2
attr GPIO23 direction input
attr GPIO23 interrupt both
attr GPIO23 room Taster
define Schalter1 notify GPIO18:on IF ( [Alles] eq "on") ( set Alles off ) ELSE ( set Alles on )
attr Schalter1 room Taster
define MyTTS Text2Speech hw=0.0
attr MyTTS TTS_FileMapping klingel:doorbell_01.mp3
attr MyTTS TTS_FileTemplateDir mp3
attr MyTTS TTS_Language Deutsch
attr MyTTS TTS_UseMP3Wrap 1
attr MyTTS room Sprache
attr MyTTS verbose 5
define Spotify Spotify 576bdd1e6ed541148cc724bb2d74f1b3 81b7727878bc47c48c5237b126851616
attr Spotify alwaysStartOnDefaultDevice 1
attr Spotify cmdIcon toggle:rc_PLAY next:rc_NEXT prev:rc_PREVIOUS
attr Spotify defaultPlaybackDeviceID 0a7d1b6f314f48f924e57e0fd74373487fe04511
attr Spotify group Spotify
attr Spotify icon audio_sound
attr Spotify room Spotify
attr Spotify stateFormat track_artist_name - track_name (track_album_name) | (progress/track_duration)
attr Spotify userReadings progress { h2hms_fmt(ReadingsNum("Spotify", "progress_ms", 0) / 1000 / 60 / 60) },\
track_duration { h2hms_fmt(ReadingsNum("Spotify", "track_duration_ms", 0) / 1000 / 60 / 60) }
attr Spotify webCmd toggle:prev:next
define Wetter_Pro PROPLANTA 44866
attr Wetter_Pro DbLogExclude .*
attr Wetter_Pro room Wetter
define nanoCUL CUL /dev/serial/by-id/usb-FTDI_FT232R_USB_UART_A9M9DV3R-if00-port0@38400 1234
attr nanoCUL icon cul_cul
attr nanoCUL model nanoCUL
attr nanoCUL rfmode SlowRF
attr nanoCUL room System
define Wecker_Annabel_einzeln DOIF ([[A5:nextAlarmTime]]) (set Baum on;; set Kueche on;; set Fernsehschrank on;; sleep 600;; set Fernsehschrank off;; sleep 3000;; set Alles off)
attr Wecker_Annabel_einzeln do always
attr Wecker_Annabel_einzeln room AMAD
attr Wecker_Annabel_einzeln selftrigger all
define n_Alexa.Fernsehen notify Alexa.Fernsehen:on set WZ_LichtSzene scene Fernsehen
define VorschauProplanta weblink htmlCode {PROPLANTA_Html("Wetter_Pro")}
attr VorschauProplanta room Wetter
define abends_aus at *22:30:00 { fhem("set Alles") if (!$we) }
attr abends_aus disable 0
define abends_aus_we at *23:30 { fhem("set Alles off") if ($we) }
attr abends_aus_we disable 0
define n_Alle2 notify Alles:off set Alles_LichtSzene scene Aus
define AMADBridge AMADCommBridge
attr AMADBridge room AMAD
define S7Edge AMADDevice 192.168.2.10 1509185994321 IODev=AMADBridge
attr S7Edge room AMAD
define FileLog_S7Edge FileLog ./log/S7Edge-%Y.log S7Edge
attr FileLog_S7Edge logtype text
attr FileLog_S7Edge room AMAD
define A5 AMADDevice 192.168.2.31 1509187016206 IODev=AMADBridge
attr A5 room AMAD
define FileLog_A5 FileLog ./log/A5-%Y.log A5
attr FileLog_A5 logtype text
attr FileLog_A5 room AMAD
define Tab3 AMADDevice 192.168.2.22 1509188315191 IODev=AMADBridge
attr Tab3 room AMAD
define UWZSprachausgabe notify Unwetterzentrale:.* {\
 my $Zeit = sprintf("%%02d:%%02d",$hour,$min);;;;\
 my $warncounter = (ReadingsVal('Unwetterzentrale','WarnCount',""));;;;\
 my $warntext = (ReadingsVal('Unwetterzentrale','Warn_0_LongText',""));;;;\
\
if(($warncounter > 0) && ($Zeit gt "08:00") && ($Zeit lt "22:00")) {fhem ("set Tab3 ttsMsg Wetterwarnung für Wattenscheid. $warntext ")};;;;}
attr UWZSprachausgabe room Wetter
define FileLog_Tab3 FileLog ./log/Tab3-%Y.log Tab3
attr FileLog_Tab3 logtype text
attr FileLog_Tab3 room AMAD
define LGEmily AMADDevice 192.168.2.14 1509189696444 IODev=AMADBridge
attr LGEmily room AMAD
define FileLog_LGEmily FileLog ./log/LGEmily-%Y.log LGEmily
attr FileLog_LGEmily logtype text
attr FileLog_LGEmily room AMAD
define rr_Emily ROOMMATE Bewohner
attr rr_Emily alias Emily
attr rr_Emily comment Auto-created by Bewohner
attr rr_Emily devStateIcon .*home:user_available:absent .*absent:user_away:home .*gone:user_ext_away:home .*gotosleep:scene_toilet:asleep .*asleep:scene_sleeping:awoken .*awoken:scene_sleeping_alternat:home .*:user_unknown:home
attr rr_Emily group Home State
attr rr_Emily icon people_sensor
attr rr_Emily room Anwesenheit
attr rr_Emily rr_presenceDevices Handy_Emily,Handy_Emily2
attr rr_Emily rr_realname group
attr rr_Emily sortby 1
attr rr_Emily webCmd state
define Handy_Emily2 PRESENCE function {checkFritzMACpresent("FritzBox","F8:A9:D0:2D:97:8D")} 30 30
attr Handy_Emily2 userattr presence presence_map structexclude
attr Handy_Emily2 absenceThreshold 1
attr Handy_Emily2 devStateIcon absent:user_ext_away .*:user_available
attr Handy_Emily2 group Anwesenheit
attr Handy_Emily2 presence present
attr Handy_Emily2 room Anwesenheit
define Handy_Annabel PRESENCE local-bluetooth 94:B1:0A:78:F2:A6 30
attr Handy_Annabel userattr presence presence_map structexclude
attr Handy_Annabel absenceThreshold 1
attr Handy_Annabel devStateIcon absent:user_ext_away .*:user_available
attr Handy_Annabel event-on-change-reading state
attr Handy_Annabel group Anwesenheit
attr Handy_Annabel presence Anwesenheit
attr Handy_Annabel room Anwesenheit
define Handy_Annabel2 PRESENCE function {checkFritzMACpresent("FritzBox","94:B1:0A:78:F2:A7")} 30 30
attr Handy_Annabel2 userattr presence presence_map structexclude
attr Handy_Annabel2 absenceThreshold 1
attr Handy_Annabel2 devStateIcon absent:user_ext_away .*:user_available
attr Handy_Annabel2 event-on-change-reading state
attr Handy_Annabel2 group Anwesenheit
attr Handy_Annabel2 presence Anwesenheit
attr Handy_Annabel2 room Anwesenheit
define SKYReceiver ENIGMA2 192.168.2.30 80 30 root dennis
attr SKYReceiver bouquet-radio 1:7:2:0:0:0:0:0:0:0:FROM BOUQUET "userbouquet.dbe01.radio" ORDER BY bouquet
attr SKYReceiver bouquet-tv 1:7:1:0:0:0:0:0:0:0:FROM BOUQUET "userbouquet.dbe01.tv" ORDER BY bouquet
attr SKYReceiver devStateIcon on:rc_GREEN:off off:rc_YELLOW:on absent:rc_STOP:on
attr SKYReceiver group Fernsehen
attr SKYReceiver http-method GET
attr SKYReceiver icon dreambox
attr SKYReceiver model UNO4K
attr SKYReceiver room Fernsehen
attr SKYReceiver stateFormat servicename, eventname
attr SKYReceiver webCmd on:off:channel
define Schalter2 notify GPIO23:on IF ( [dbox1] eq "on") ( set dbox1 off ) ELSE ( set dbox1 on )
attr Schalter2 room Taster
define FritzBox FRITZBOX 192.168.2.1
attr FritzBox INTERVAL 30
attr FritzBox allowTR064Command 1
attr FritzBox devStateIcon .*on.*off:WLAN_on_gWLAN_off .*on.*on.*:WLAN_on_gWLAN_on WLAN..off.*:WLAN_off
attr FritzBox group Fritzbox
attr FritzBox icon it_router
attr FritzBox room Telefon
define Handy_Dennis2 PRESENCE function {checkFritzMACpresent("FritzBox","4C:66:41:77:60:10")} 30 30
attr Handy_Dennis2 userattr presence presence_map structexclude
attr Handy_Dennis2 devStateIcon absent:user_ext_away .*:user_available
attr Handy_Dennis2 event-on-change-reading state
attr Handy_Dennis2 group Anwesenheit
attr Handy_Dennis2 presence Anwesenheit
attr Handy_Dennis2 room Anwesenheit
define watchdog_Anwesenheit watchdog Anwesenheit:absent 00:15 HandAnwesenheit:present set Ales off;; set Sonos_Wohnzimmer stop;; set Sonos_Kueche stop;; set Sonos_Kinderzimmer stop;; set MPD2 stop;; set MPD3 stop;; trigger watchdog_Anwesenheit .
attr watchdog_Anwesenheit regexp1WontReactivate 1
define di_PowerAll DOIF ([Anwesenheit] eq "absent") (set MPD2 stop;; set Alles off;; set Sonos_Wohnzimmer stop;; set Sonos_Kueche stop;; set Sonos_Kinderzimmer stop;; set MPD3 stop)
attr di_PowerAll do always
attr di_PowerAll event-on-change-reading e_Anwesenheit_STATE
attr di_PowerAll event-on-update-reading e_Anwesenheit_STATE
attr di_PowerAll room Anwesenheit
define Anwesenheit structure presence Handy_Dennis Handy_Dennis2 Handy_Annabel Handy_Annabel2
attr Anwesenheit clientstate_behavior relativeKnown
attr Anwesenheit clientstate_priority present|anwesend absent|abwesend|maybe.*
attr Anwesenheit event-on-change-reading state
attr Anwesenheit room Anwesenheit
define di_PowerOn DOIF ([Anwesenheit] eq "present") (set Flur on)
attr di_PowerOn do always
attr di_PowerOn event-on-change-reading e_Anwesenheit_STATE
attr di_PowerOn event-on-update-reading e_Anwesenheit_STATE
attr di_PowerOn room Anwesenheit
define Alles structure room Fluter Flur Baum Kueche Kette Regal Lampe Bauch Fernsehschrank
attr Alles clientstate_behavior relative
attr Alles clientstate_priority on off
attr Alles group Alle Lampen
attr Alles icon light_light_dim_100
attr Alles room Alle Lampen,alexa
define Morgens structure Room Bauch Fluter Baum Kueche Kette Regal Lampe
attr Morgens clientstate_behavior relative
attr Morgens clientstate_priority on off
attr Morgens group Alle Lampen
attr Morgens icon light_light_dim_100
attr Morgens room Alle Lampen,alexa
define Fernseher dummy
attr Fernseher alexaName Fernseher
attr Fernseher alexaRoom Fernseher
attr Fernseher genericDeviceType switch
attr Fernseher room Beleuchtung,alexa
attr Fernseher setList on off
define n_Fernseher_an notify Fernseher:on set Fluter off;; set Flur off;; set SKYReceiver on
attr n_Fernseher_an room Beleuchtung
define n_Fernseher_aus notify Fernseher:off set Fluter on;; set Flur on;; set SKYReceiver off
attr n_Fernseher_aus room Beleuchtung
define ann_anw DOIF ([Annabel:"present"]) (set A5 ttsMsg Hallo Annabel. Willkommen Zuhause!)
attr ann_anw do always
attr ann_anw room Anwesenheit
define den_anw DOIF ([Dennis:"present"]) (set S7Edge ttsMsg Hallo Dennis. Willkommen Zuhause!")
attr den_anw do always
attr den_anw room Anwesenheit
define emi_anw DOIF ([Handy_Emily2:"present"]) (set LGEmily ttsMsg Hallo Emily. Willkommen Zuhause!)
attr emi_anw do always
attr emi_anw room Anwesenheit
define netatmo_aussen netatmo PUBLIC 70:ee:50:20:eb:e8 02:00:00:20:fb:66 temperature,humidity 70:ee:50:20:eb:e8 pressure
attr netatmo_aussen IODev Wetter_netatmo
attr netatmo_aussen devStateIcon .*:no-icon
attr netatmo_aussen room netatmo
attr netatmo_aussen stateFormat T: temperature H: humidity
define abends_an at *{twilight("TL","ss_weather","16:00","17:30")} set Alles on
attr abends_an room Wetter
define fbCallMonitor FB_CALLMONITOR 192.168.2.1
attr fbCallMonitor answMachine-is-missed-call 1
attr fbCallMonitor country-code 0049
attr fbCallMonitor event-on-change-reading .*
attr fbCallMonitor fritzbox-remote-phonebook 1
attr fbCallMonitor fritzbox-remote-phonebook-via tr064
attr fbCallMonitor local-area-code 44866
attr fbCallMonitor reverse-search phonebook,klicktel.de,dasoertliche.de
attr fbCallMonitor reverse-search-cache 1
attr fbCallMonitor reverse-search-cache-file /opt/fhem/log/telefonbuch_cache.txt
attr fbCallMonitor room Telefon
define FHEM.Backup dummy
attr FHEM.Backup event-on-change-reading state
attr FHEM.Backup room System
attr FHEM.Backup webCmd on:off
define FHEMBackupOn notify FHEM.Backup:on {system ("sudo -u root /opt/fhem/FHEM/backup.sh &")}
define starteBackup DOIF ([23:59:30|So]) (set FHEM.Backup on)
attr starteBackup do always
attr starteBackup room System
define 868CUL CUL /dev/serial/by-id/usb-FTDI_FT232R_USB_UART_A921D7VZ-if00-port0@38400 2345
attr 868CUL hmId AABBCC
attr 868CUL icon cul_868
attr 868CUL model nanoCUL
attr 868CUL rfmode HomeMatic
attr 868CUL room System
define VCCU CUL_HM AABBCC
attr VCCU IODev 868CUL
attr VCCU IOList 868CUL
attr VCCU expert 2_raw
attr VCCU model CCU-FHEM
attr VCCU room System
attr VCCU subType virtual
attr VCCU webCmd virtual:update
define Wecker_Annabel_alle DOIF ([[A5:nextAlarmTime]]) (set MPD2 play;; set Morgens on;; set Sonos_Kueche Volume 6;; set Sonos_Kueche PlayURI http://radiobochum.cast.addradio.de/radiobochum/simulcast/high/stream.mp3;; set Sonos_Kinderzimmer Volume 3;; set Sonos_Kinderzimmer PlayURI http://streamtdy.ir-media-tec.com/disco/mp3-128/web/play.mp3;; sleep 900;; set MPD3 play)
attr Wecker_Annabel_alle do always
attr Wecker_Annabel_alle room AMAD
attr Wecker_Annabel_alle selftrigger all
define Wecker_Dennis_einzeln DOIF ([[S7Edge:nextAlarmTime]]) (set Baum on;; set Kueche on;; set Fernsehschrank on;; sleep 600;; set Fernsehschrank off;; sleep 3000;; set Alles off)
attr Wecker_Dennis_einzeln do always
attr Wecker_Dennis_einzeln room AMAD
attr Wecker_Dennis_einzeln selftrigger all
define WeckerAnnabel dummy
attr WeckerAnnabel genericDeviceType switch
attr WeckerAnnabel room AMAD
attr WeckerAnnabel setList on off
define WeckerDennis dummy
attr WeckerDennis genericDeviceType switch
attr WeckerDennis room AMAD
attr WeckerDennis setList on off
define n_WeckerDennis notify WeckerDennis:on set Wecker_Dennis_einzeln enable;; set Wecker_Dennis_alle disable
attr n_WeckerDennis room AMAD
define n_WeckerDennis2 notify WeckerDennis:off set Wecker_Dennis_alle enable;; set Wecker_Dennis_einzeln disable
attr n_WeckerDennis2 room AMAD
define n_WeckerAnnabel notify WeckerAnnabel:on set Wecker_Annabel_einzeln enable;; set Wecker_Annabel_alle disable
attr n_WeckerAnnabel room AMAD
define n_WeckerAnnabel2 notify WeckerAnnabel:off set Wecker_Annabel_alle enable;; set Wecker_Annabel_einzeln disable
attr n_WeckerAnnabel2 room AMAD
define Wecker_Dennis_alle DOIF ([[S7Edge:nextAlarmTime]]) (set MPD2 play;; set Morgens on;; set Sonos_Kueche Volume 6;; set Sonos_Kueche PlayURI http://radiobochum.cast.addradio.de/radiobochum/simulcast/high/stream.mp3;; set Sonos_Kinderzimmer Volume 4;; set Sonos_Kinderzimmer PlayURI http://streamtdy.ir-media-tec.com/disco/mp3-128/web/play.mp3;; sleep 900;; set MPD3 play)
attr Wecker_Dennis_alle do always
attr Wecker_Dennis_alle room AMAD
define DOIFtools DOIFtools associated DOIF: Wecker_Annabel_alle Wecker_Annabel_einzeln Wecker_Dennis_alle Wecker_Dennis_einzeln Wecker_alle Wecker_einzeln ann_anw dAbfallheute dAbfallmorgen den_anw di_PowerAll di_PowerOn emi_anw starteBackup
attr DOIFtools room System
define mqtt MQTT 127.0.0.1:1883
attr mqtt room MQTT
